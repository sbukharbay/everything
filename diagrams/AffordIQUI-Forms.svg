<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="557px" preserveAspectRatio="none" style="width:1342px;height:557px;background:#FFFFFF;" version="1.1" viewBox="0 0 1342 557" width="1342px" zoomAndPan="magnify"><defs/><g><!--MD5=[0d84d7e51378f1c05ded009e8f9f979b]
class FormTextFieldDelegateImpl--><rect codeLine="8" fill="#FEFECE" height="150.4375" id="FormTextFieldDelegateImpl" style="stroke:#A80036;stroke-width:1.5;" width="357" x="9" y="68"/><ellipse cx="75.25" cy="84" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M77.5938,79.6719 C76.6563,79.2344 76.0625,79.0938 75.1875,79.0938 C72.5625,79.0938 70.5625,81.1719 70.5625,83.8906 L70.5625,85.0156 C70.5625,87.5938 72.6719,89.4844 75.5625,89.4844 C76.7813,89.4844 77.9375,89.1875 78.6875,88.6406 C79.2656,88.2344 79.5938,87.7813 79.5938,87.3906 C79.5938,86.9375 79.2031,86.5469 78.7344,86.5469 C78.5156,86.5469 78.3125,86.625 78.125,86.8125 C77.6719,87.2969 77.6719,87.2969 77.4844,87.3906 C77.0625,87.6563 76.375,87.7813 75.6094,87.7813 C73.5625,87.7813 72.2656,86.6875 72.2656,84.9844 L72.2656,83.8906 C72.2656,82.1094 73.5156,80.7969 75.25,80.7969 C75.8281,80.7969 76.4375,80.9531 76.9063,81.2031 C77.3906,81.4844 77.5625,81.7031 77.6563,82.1094 C77.7188,82.5156 77.75,82.6406 77.8906,82.7656 C78.0313,82.9063 78.2656,83.0156 78.4844,83.0156 C78.75,83.0156 79.0156,82.875 79.1875,82.6563 C79.2969,82.5 79.3281,82.3125 79.3281,81.8906 L79.3281,80.4688 C79.3281,80.0313 79.3125,79.9063 79.2188,79.75 C79.0625,79.4844 78.7813,79.3438 78.4844,79.3438 C78.1875,79.3438 77.9844,79.4375 77.7656,79.75 L77.5938,79.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166" x="95.75" y="88.1543">FormTextFieldDelegateImpl</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="48" x="321" y="65"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="322" y="77.1387">F: Form</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="365" y1="100" y2="100"/><polygon fill="none" points="20,107,16,113,24,113" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="29" y="114.2104">form : F?</text><polygon fill="none" points="20,119.8047,16,125.8047,24,125.8047" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="29" y="127.0151">viewModel : F.ViewModelType?</text><polygon fill="none" points="20,132.6094,16,138.6094,24,138.6094" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="29" y="139.8198">liveValidation : Bool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="365" y1="146.4141" y2="146.4141"/><ellipse cx="20" cy="157.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="29" y="160.6245">init(form:viewModel:liveValidation:)</text><ellipse cx="20" cy="170.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="29" y="173.4292">textFieldShouldReturn(_:)</text><ellipse cx="20" cy="183.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="29" y="186.2339">textFieldDidBeginEditing(_:)</text><ellipse cx="20" cy="195.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="165" x="29" y="199.0386">textFieldShouldEndEditing(_:)</text><ellipse cx="20" cy="208.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="29" y="211.8433">textField(_:shouldChangeCharactersIn:replacementString:)</text><!--MD5=[40c18bb991113c739dc2a6e4716b5fd2]
class FormViewModel--><rect codeLine="18" fill="#FEFECE" height="135.5703" id="FormViewModel" style="stroke:#A80036;stroke-width:1.5;" width="327" x="428" y="75"/><ellipse cx="538.75" cy="93.9688" fill="#DAA520" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M538.2969,95.5625 L539.9688,95.5625 C541.5469,95.5625 542.3906,95.2813 543.1406,94.4531 C543.6875,93.8594 544,93.0469 544,92.2656 C544,90.3906 542.4688,89.0625 540.2969,89.0625 L536.3438,89.0625 C535.9063,89.0625 535.7813,89.0781 535.625,89.1719 C535.375,89.3281 535.2188,89.625 535.2188,89.9063 C535.2188,90.1563 535.3594,90.4375 535.5781,90.6094 C535.7344,90.7188 535.9219,90.75 536.3438,90.75 L536.5938,90.75 L536.5938,97.2656 L536.3438,97.2656 C535.9375,97.2656 535.7813,97.2813 535.625,97.3906 C535.375,97.5469 535.2188,97.8281 535.2188,98.125 C535.2188,98.375 535.3594,98.6406 535.5781,98.7969 C535.7188,98.9219 535.9531,98.9688 536.3438,98.9688 L539.9844,98.9688 C540.3281,98.9688 540.5781,98.9219 540.6875,98.8438 C540.9531,98.7031 541.1094,98.4063 541.1094,98.125 C541.1094,97.8438 540.9688,97.5938 540.75,97.4219 C540.5781,97.2969 540.4375,97.2656 539.9844,97.2656 L538.2969,97.2656 L538.2969,95.5625 Z M538.2969,90.75 L540.2969,90.75 C541.4844,90.75 542.1875,91.3594 542.1875,92.3281 C542.1875,93.2813 541.4844,93.875 540.2969,93.875 L538.2969,93.875 L538.2969,90.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="576.25" y="91.1387">«protocol»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="559.25" y="105.1074">FormViewModel</text><line style="stroke:#A80036;stroke-width:1.5;" x1="429" x2="754" y1="112.9375" y2="112.9375"/><ellipse cx="439" cy="123.9375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="448" y="127.1479">isValid(values:)</text><ellipse cx="439" cy="136.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="448" y="139.9526">isValid(field:values:)</text><ellipse cx="439" cy="149.5469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="448" y="152.7573">validationMessage(field:values:)</text><ellipse cx="439" cy="162.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="301" x="448" y="165.562">textFieldShouldReturn(field:messageSetters:values:)</text><ellipse cx="439" cy="175.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="448" y="178.3667">submit(values:)</text><ellipse cx="439" cy="187.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="448" y="191.1714">getValue(field:values:from:)</text><ellipse cx="439" cy="200.7656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="448" y="203.9761">getText(value:from:)</text><!--MD5=[6f29f313cd4199edbf91b9ce3a4faa98]
class Form--><rect codeLine="27" fill="#FEFECE" height="271.6172" id="Form" style="stroke:#A80036;stroke-width:1.5;" width="403" x="932" y="7"/><ellipse cx="1099.75" cy="25.9688" fill="#DAA520" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1099.2969,27.5625 L1100.9688,27.5625 C1102.5469,27.5625 1103.3906,27.2813 1104.1406,26.4531 C1104.6875,25.8594 1105,25.0469 1105,24.2656 C1105,22.3906 1103.4688,21.0625 1101.2969,21.0625 L1097.3438,21.0625 C1096.9063,21.0625 1096.7813,21.0781 1096.625,21.1719 C1096.375,21.3281 1096.2188,21.625 1096.2188,21.9063 C1096.2188,22.1563 1096.3594,22.4375 1096.5781,22.6094 C1096.7344,22.7188 1096.9219,22.75 1097.3438,22.75 L1097.5938,22.75 L1097.5938,29.2656 L1097.3438,29.2656 C1096.9375,29.2656 1096.7813,29.2813 1096.625,29.3906 C1096.375,29.5469 1096.2188,29.8281 1096.2188,30.125 C1096.2188,30.375 1096.3594,30.6406 1096.5781,30.7969 C1096.7188,30.9219 1096.9531,30.9688 1097.3438,30.9688 L1100.9844,30.9688 C1101.3281,30.9688 1101.5781,30.9219 1101.6875,30.8438 C1101.9531,30.7031 1102.1094,30.4063 1102.1094,30.125 C1102.1094,29.8438 1101.9688,29.5938 1101.75,29.4219 C1101.5781,29.2969 1101.4375,29.2656 1100.9844,29.2656 L1099.2969,29.2656 L1099.2969,27.5625 Z M1099.2969,22.75 L1101.2969,22.75 C1102.4844,22.75 1103.1875,23.3594 1103.1875,24.3281 C1103.1875,25.2813 1102.4844,25.875 1101.2969,25.875 L1099.2969,25.875 L1099.2969,22.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="1118.25" y="23.1387">«protocol»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="31" x="1134.25" y="37.1074">Form</text><line style="stroke:#A80036;stroke-width:1.5;" x1="933" x2="1334" y1="44.9375" y2="44.9375"/><ellipse cx="943" cy="55.9375" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="952" y="59.1479">viewModel : ViewModelType?</text><ellipse cx="943" cy="68.7422" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="952" y="71.9526">fields : [UITextField?]</text><ellipse cx="943" cy="81.5469" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="952" y="84.7573">messages : [UILabel?]</text><ellipse cx="943" cy="94.3516" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="358" x="952" y="97.562">messageSetters : [ViewModelType.FieldType: MessageSetter]</text><ellipse cx="943" cy="107.1563" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="319" x="952" y="110.3667">taggedFields : [UITextField?: ViewModelType.FieldType]</text><ellipse cx="943" cy="119.9609" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="247" x="952" y="123.1714">values : [ViewModelType.FieldType: String]</text><ellipse cx="943" cy="132.7656" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="952" y="135.9761">allowChangePredicates : [ViewModelType.FieldType: NSPredicate]</text><ellipse cx="943" cy="145.5703" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="321" x="952" y="148.7808">displayedMessages : [ViewModelType.FieldType: String]</text><ellipse cx="943" cy="158.375" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="952" y="161.5854">isClosing : Bool</text><ellipse cx="943" cy="171.1797" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="952" y="174.3901">isEditing : Bool</text><ellipse cx="943" cy="183.9844" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="952" y="187.1948">isSubmitEnabled : Bool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="933" x2="1334" y1="193.7891" y2="193.7891"/><ellipse cx="943" cy="204.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="952" y="207.9995">filters : [ViewModelType.FieldType: (Character) -&gt; Bool]</text><ellipse cx="943" cy="217.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="952" y="220.8042">formLayoutUpdated()</text><ellipse cx="943" cy="230.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="952" y="233.6089">clearMessages()</text><ellipse cx="943" cy="243.2031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="952" y="246.4136">submit()</text><ellipse cx="943" cy="256.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="952" y="259.2183">updateFocus(textField:for:)</text><ellipse cx="943" cy="268.8125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="952" y="272.0229">nextField(after:)</text><!--MD5=[7244fad5e9bcf29f621068fe8c5c3ee4]
class FormViewModel0--><rect codeLine="46" fill="#FEFECE" height="97.1563" id="FormViewModel0" style="stroke:#A80036;stroke-width:1.5;" width="327" x="428" y="405"/><ellipse cx="538.75" cy="423.9688" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M539.9375,423.9219 L542.6094,420.75 C543.2031,420.7344 543.5781,420.4375 543.5781,419.9063 C543.5781,419.6406 543.4531,419.375 543.2188,419.2031 C543.0469,419.0938 542.9063,419.0625 542.4531,419.0625 L540.9219,419.0625 C540.5469,419.0625 540.2813,419.1094 540.1406,419.2344 C539.9219,419.375 539.7813,419.6563 539.7813,419.9063 C539.7813,420.2813 539.9531,420.5 540.4375,420.7344 L538.8438,422.5938 L537.2344,420.7344 C537.7344,420.5 537.875,420.2813 537.875,419.9063 C537.875,419.6406 537.75,419.375 537.5313,419.2031 C537.3594,419.0938 537.2188,419.0625 536.7344,419.0625 L535.1875,419.0625 C535.0781,419.0625 535.0625,419.0625 534.8594,419.0938 C534.3594,419.1406 534.0781,419.4531 534.0781,419.9063 C534.0781,420.4219 534.4375,420.7188 535.0625,420.75 L537.75,423.9063 L534.9219,427.2656 C534.2969,427.2656 533.9219,427.5938 533.9219,428.125 C533.9219,428.3906 534.0625,428.6406 534.2813,428.8125 C534.4375,428.9219 534.6406,428.9688 535.0469,428.9688 L536.9219,428.9688 C537.2813,428.9688 537.5,428.9375 537.6406,428.8438 C537.8906,428.7031 538.0469,428.4063 538.0469,428.125 C538.0469,427.6094 537.7188,427.2969 537.1406,427.2656 L538.8594,425.2344 L540.5781,427.2656 C539.9844,427.2969 539.6563,427.6094 539.6563,428.125 C539.6563,428.6875 540.0156,428.9688 540.7656,428.9688 L542.6563,428.9688 C543.0156,428.9688 543.2344,428.9375 543.375,428.8438 C543.625,428.7031 543.7813,428.4063 543.7813,428.125 C543.7813,427.5938 543.4219,427.2813 542.7813,427.2656 L539.9375,423.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="571.75" y="421.1387">«extension»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="559.25" y="435.1074">FormViewModel</text><line style="stroke:#A80036;stroke-width:1.5;" x1="429" x2="754" y1="442.9375" y2="442.9375"/><ellipse cx="439" cy="453.9375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="448" y="457.1479">isValid(values:)</text><ellipse cx="439" cy="466.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="448" y="469.9526">getValue(field:values:from:)</text><ellipse cx="439" cy="479.5469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="448" y="482.7573">getText(value:from:)</text><ellipse cx="439" cy="492.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="301" x="448" y="495.562">textFieldShouldReturn(field:messageSetters:values:)</text><!--MD5=[7808aa1e27360921712646f2d0ecc320]
class Form1--><rect codeLine="52" fill="#FEFECE" height="194.7891" id="Form1" style="stroke:#A80036;stroke-width:1.5;" width="403" x="790" y="356"/><ellipse cx="953.25" cy="374.9688" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M954.4375,374.9219 L957.1094,371.75 C957.7031,371.7344 958.0781,371.4375 958.0781,370.9063 C958.0781,370.6406 957.9531,370.375 957.7188,370.2031 C957.5469,370.0938 957.4063,370.0625 956.9531,370.0625 L955.4219,370.0625 C955.0469,370.0625 954.7813,370.1094 954.6406,370.2344 C954.4219,370.375 954.2813,370.6563 954.2813,370.9063 C954.2813,371.2813 954.4531,371.5 954.9375,371.7344 L953.3438,373.5938 L951.7344,371.7344 C952.2344,371.5 952.375,371.2813 952.375,370.9063 C952.375,370.6406 952.25,370.375 952.0313,370.2031 C951.8594,370.0938 951.7188,370.0625 951.2344,370.0625 L949.6875,370.0625 C949.5781,370.0625 949.5625,370.0625 949.3594,370.0938 C948.8594,370.1406 948.5781,370.4531 948.5781,370.9063 C948.5781,371.4219 948.9375,371.7188 949.5625,371.75 L952.25,374.9063 L949.4219,378.2656 C948.7969,378.2656 948.4219,378.5938 948.4219,379.125 C948.4219,379.3906 948.5625,379.6406 948.7813,379.8125 C948.9375,379.9219 949.1406,379.9688 949.5469,379.9688 L951.4219,379.9688 C951.7813,379.9688 952,379.9375 952.1406,379.8438 C952.3906,379.7031 952.5469,379.4063 952.5469,379.125 C952.5469,378.6094 952.2188,378.2969 951.6406,378.2656 L953.3594,376.2344 L955.0781,378.2656 C954.4844,378.2969 954.1563,378.6094 954.1563,379.125 C954.1563,379.6875 954.5156,379.9688 955.2656,379.9688 L957.1563,379.9688 C957.5156,379.9688 957.7344,379.9375 957.875,379.8438 C958.125,379.7031 958.2813,379.4063 958.2813,379.125 C958.2813,378.5938 957.9219,378.2813 957.2813,378.2656 L954.4375,374.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="971.75" y="372.1387">«extension»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="31" x="992.25" y="386.1074">Form</text><line style="stroke:#A80036;stroke-width:1.5;" x1="791" x2="1192" y1="393.9375" y2="393.9375"/><ellipse cx="801" cy="404.9375" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="358" x="810" y="408.1479">messageSetters : [ViewModelType.FieldType: MessageSetter]</text><ellipse cx="801" cy="417.7422" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="319" x="810" y="420.9526">taggedFields : [UITextField?: ViewModelType.FieldType]</text><ellipse cx="801" cy="430.5469" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="247" x="810" y="433.7573">values : [ViewModelType.FieldType: String]</text><ellipse cx="801" cy="443.3516" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="810" y="446.562">allowChangePredicates : [ViewModelType.FieldType: NSPredicate]</text><ellipse cx="801" cy="456.1563" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="321" x="810" y="459.3667">displayedMessages : [ViewModelType.FieldType: String]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="791" x2="1192" y1="465.9609" y2="465.9609"/><ellipse cx="801" cy="476.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="810" y="480.1714">filters : [ViewModelType.FieldType: (Character) -&gt; Bool]</text><ellipse cx="801" cy="489.7656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="810" y="492.9761">clearMessages()</text><ellipse cx="801" cy="502.5703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="810" y="505.7808">submit()</text><ellipse cx="801" cy="515.375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="810" y="518.5854">updateFocus(textField:for:)</text><ellipse cx="801" cy="528.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="810" y="531.3901">nextField(after:)</text><ellipse cx="801" cy="540.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="810" y="544.1948">formLayoutUpdated()</text><!--MD5=[0d4fb80341763a24143be61e75fdd318]
class NSObject--><rect fill="#FEFECE" height="32" id="NSObject" style="stroke:#A80036;stroke-width:1.5;" width="88" x="51.5" y="437.5"/><ellipse cx="66.5" cy="453.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M68.8438,449.1719 C67.9063,448.7344 67.3125,448.5938 66.4375,448.5938 C63.8125,448.5938 61.8125,450.6719 61.8125,453.3906 L61.8125,454.5156 C61.8125,457.0938 63.9219,458.9844 66.8125,458.9844 C68.0313,458.9844 69.1875,458.6875 69.9375,458.1406 C70.5156,457.7344 70.8438,457.2813 70.8438,456.8906 C70.8438,456.4375 70.4531,456.0469 69.9844,456.0469 C69.7656,456.0469 69.5625,456.125 69.375,456.3125 C68.9219,456.7969 68.9219,456.7969 68.7344,456.8906 C68.3125,457.1563 67.625,457.2813 66.8594,457.2813 C64.8125,457.2813 63.5156,456.1875 63.5156,454.4844 L63.5156,453.3906 C63.5156,451.6094 64.7656,450.2969 66.5,450.2969 C67.0781,450.2969 67.6875,450.4531 68.1563,450.7031 C68.6406,450.9844 68.8125,451.2031 68.9063,451.6094 C68.9688,452.0156 69,452.1406 69.1406,452.2656 C69.2813,452.4063 69.5156,452.5156 69.7344,452.5156 C70,452.5156 70.2656,452.375 70.4375,452.1563 C70.5469,452 70.5781,451.8125 70.5781,451.3906 L70.5781,449.9688 C70.5781,449.5313 70.5625,449.4063 70.4688,449.25 C70.3125,448.9844 70.0313,448.8438 69.7344,448.8438 C69.4375,448.8438 69.2344,448.9375 69.0156,449.25 L68.8438,449.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56" x="80.5" y="457.6543">NSObject</text><!--MD5=[e86e06951ad27bf335bb80a7b26eb554]
class UITextFieldDelegate--><rect fill="#FEFECE" height="32" id="UITextFieldDelegate" style="stroke:#A80036;stroke-width:1.5;" width="154" x="174.5" y="437.5"/><ellipse cx="189.5" cy="453.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M191.8438,449.1719 C190.9063,448.7344 190.3125,448.5938 189.4375,448.5938 C186.8125,448.5938 184.8125,450.6719 184.8125,453.3906 L184.8125,454.5156 C184.8125,457.0938 186.9219,458.9844 189.8125,458.9844 C191.0313,458.9844 192.1875,458.6875 192.9375,458.1406 C193.5156,457.7344 193.8438,457.2813 193.8438,456.8906 C193.8438,456.4375 193.4531,456.0469 192.9844,456.0469 C192.7656,456.0469 192.5625,456.125 192.375,456.3125 C191.9219,456.7969 191.9219,456.7969 191.7344,456.8906 C191.3125,457.1563 190.625,457.2813 189.8594,457.2813 C187.8125,457.2813 186.5156,456.1875 186.5156,454.4844 L186.5156,453.3906 C186.5156,451.6094 187.7656,450.2969 189.5,450.2969 C190.0781,450.2969 190.6875,450.4531 191.1563,450.7031 C191.6406,450.9844 191.8125,451.2031 191.9063,451.6094 C191.9688,452.0156 192,452.1406 192.1406,452.2656 C192.2813,452.4063 192.5156,452.5156 192.7344,452.5156 C193,452.5156 193.2656,452.375 193.4375,452.1563 C193.5469,452 193.5781,451.8125 193.5781,451.3906 L193.5781,449.9688 C193.5781,449.5313 193.5625,449.4063 193.4688,449.25 C193.3125,448.9844 193.0313,448.8438 192.7344,448.8438 C192.4375,448.8438 192.2344,448.9375 192.0156,449.25 L191.8438,449.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="203.5" y="457.6543">UITextFieldDelegate</text><!--MD5=[625eb5fdd814536c712f9f96ffbf9401]
class AnyObject--><rect fill="#FEFECE" height="32" id="AnyObject" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1228.5" y="437.5"/><ellipse cx="1243.5" cy="453.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1245.8438,449.1719 C1244.9063,448.7344 1244.3125,448.5938 1243.4375,448.5938 C1240.8125,448.5938 1238.8125,450.6719 1238.8125,453.3906 L1238.8125,454.5156 C1238.8125,457.0938 1240.9219,458.9844 1243.8125,458.9844 C1245.0313,458.9844 1246.1875,458.6875 1246.9375,458.1406 C1247.5156,457.7344 1247.8438,457.2813 1247.8438,456.8906 C1247.8438,456.4375 1247.4531,456.0469 1246.9844,456.0469 C1246.7656,456.0469 1246.5625,456.125 1246.375,456.3125 C1245.9219,456.7969 1245.9219,456.7969 1245.7344,456.8906 C1245.3125,457.1563 1244.625,457.2813 1243.8594,457.2813 C1241.8125,457.2813 1240.5156,456.1875 1240.5156,454.4844 L1240.5156,453.3906 C1240.5156,451.6094 1241.7656,450.2969 1243.5,450.2969 C1244.0781,450.2969 1244.6875,450.4531 1245.1563,450.7031 C1245.6406,450.9844 1245.8125,451.2031 1245.9063,451.6094 C1245.9688,452.0156 1246,452.1406 1246.1406,452.2656 C1246.2813,452.4063 1246.5156,452.5156 1246.7344,452.5156 C1247,452.5156 1247.2656,452.375 1247.4375,452.1563 C1247.5469,452 1247.5781,451.8125 1247.5781,451.3906 L1247.5781,449.9688 C1247.5781,449.5313 1247.5625,449.4063 1247.4688,449.25 C1247.3125,448.9844 1247.0313,448.8438 1246.7344,448.8438 C1246.4375,448.8438 1246.2344,448.9375 1246.0156,449.25 L1245.8438,449.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="1257.5" y="457.6543">AnyObject</text><!--MD5=[21956776c5aba5eac146ea01d147669b]
link FormTextFieldDelegateImpl to NSObject--><path codeLine="65" d="M165.347,218.286 C146.439,281.688 120.102,370.004 105.7766,418.04 " fill="none" id="FormTextFieldDelegateImpl-to-NSObject" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="112.454,420.142,100.0305,437.308,99.0382,416.142,112.454,420.142" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="137.5" y="322.0669">inherits</text><!--MD5=[562df6a679c2219da3da406bd7c27401]
link FormTextFieldDelegateImpl to UITextFieldDelegate--><path codeLine="66" d="M202.911,218.286 C216.034,281.545 234.303,369.605 244.283,417.714 " fill="none" id="FormTextFieldDelegateImpl-to-UITextFieldDelegate" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="251.14,416.303,248.348,437.308,237.432,419.147,251.14,416.303" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="226.5" y="322.0669">inherits</text><!--MD5=[fe3510a612a3284a5f3421ac4d86570c]
link Form to AnyObject--><path codeLine="67" d="M1195.78,279.313 C1219.48,330.795 1244.49,385.135 1260.04,418.923 " fill="none" id="Form-to-AnyObject" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1266.41,416.001,1268.41,437.096,1253.69,421.855,1266.41,416.001" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="1218.5" y="322.0669">inherits</text><!--MD5=[057c9ba126a8efec03f40026176773cc]
reverse link FormViewModel to FormViewModel0--><path codeLine="68" d="M591.5,216.525 C591.5,274.679 591.5,354.623 591.5,404.919 " fill="none" id="FormViewModel-backto-FormViewModel0" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="591.5,211.32,587.5,220.32,591.5,216.32,595.5,220.32,591.5,211.32" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="592.5" y="322.0669">ext</text><!--MD5=[6db8b025401c8f5d67e360ba4b248b0e]
reverse link Form to Form1--><path codeLine="69" d="M1068.99,284.147 C1057.85,308.352 1046.49,333.025 1036.03,355.753 " fill="none" id="Form-backto-Form1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1071.22,279.313,1063.8246,285.8174,1069.1302,283.8553,1071.0923,289.161,1071.22,279.313" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1055.5" y="322.0669">ext</text><!--MD5=[a1d5f0d5202498461fa501a68a406ed6]
@startuml

' STYLE START
hide empty members
skinparam shadowing false
' STYLE END


class "FormTextFieldDelegateImpl" as FormTextFieldDelegateImpl<F: Form> << (C, DarkSeaGreen) >> { 
  ~form : F?
  ~viewModel : F.ViewModelType?
  ~liveValidation : Bool
  +init(form:viewModel:liveValidation:)
  +textFieldShouldReturn(_:)
  +textFieldDidBeginEditing(_:)
  +textFieldShouldEndEditing(_:)
  +textField(_:shouldChangeCharactersIn:replacementString:) 
}
class "FormViewModel" as FormViewModel << (P, GoldenRod) protocol >> { 
  +isValid(values:)
  +isValid(field:values:)
  +validationMessage(field:values:)
  +textFieldShouldReturn(field:messageSetters:values:)
  +submit(values:)
  +getValue(field:values:from:)
  +getText(value:from:) 
}
class "Form" as Form << (P, GoldenRod) protocol >> { 
  +viewModel : ViewModelType?
  +fields : [UITextField?]
  +messages : [UILabel?]
  +messageSetters : [ViewModelType.FieldType: MessageSetter]
  +taggedFields : [UITextField?: ViewModelType.FieldType]
  +values : [ViewModelType.FieldType: String]
  +filters : [ViewModelType.FieldType: (Character) -> Bool]
  +allowChangePredicates : [ViewModelType.FieldType: NSPredicate]
  +displayedMessages : [ViewModelType.FieldType: String]
  +isClosing : Bool
  +isEditing : Bool
  +isSubmitEnabled : Bool
  +formLayoutUpdated()
  +clearMessages()
  +submit()
  +updateFocus(textField:for:)
  +nextField(after:) 
}
class "FormViewModel" as FormViewModel0 << (X, Orchid) extension >> { 
  +isValid(values:)
  +getValue(field:values:from:)
  +getText(value:from:)
  +textFieldShouldReturn(field:messageSetters:values:) 
}
class "Form" as Form1 << (X, Orchid) extension >> { 
  +messageSetters : [ViewModelType.FieldType: MessageSetter]
  +taggedFields : [UITextField?: ViewModelType.FieldType]
  +values : [ViewModelType.FieldType: String]
  +filters : [ViewModelType.FieldType: (Character) -> Bool]
  +allowChangePredicates : [ViewModelType.FieldType: NSPredicate]
  +displayedMessages : [ViewModelType.FieldType: String]
  +clearMessages()
  +submit()
  +updateFocus(textField:for:)
  +nextField(after:)
  +formLayoutUpdated() 
}
FormTextFieldDelegateImpl - -|> NSObject : inherits
FormTextFieldDelegateImpl - -|> UITextFieldDelegate : inherits
Form ..|> AnyObject : inherits
FormViewModel <.. FormViewModel0 : ext
Form <.. Form1 : ext
@enduml

@startuml

hide empty members
skinparam shadowing false


class "FormTextFieldDelegateImpl" as FormTextFieldDelegateImpl<F: Form> << (C, DarkSeaGreen) >> { 
  ~form : F?
  ~viewModel : F.ViewModelType?
  ~liveValidation : Bool
  +init(form:viewModel:liveValidation:)
  +textFieldShouldReturn(_:)
  +textFieldDidBeginEditing(_:)
  +textFieldShouldEndEditing(_:)
  +textField(_:shouldChangeCharactersIn:replacementString:) 
}
class "FormViewModel" as FormViewModel << (P, GoldenRod) protocol >> { 
  +isValid(values:)
  +isValid(field:values:)
  +validationMessage(field:values:)
  +textFieldShouldReturn(field:messageSetters:values:)
  +submit(values:)
  +getValue(field:values:from:)
  +getText(value:from:) 
}
class "Form" as Form << (P, GoldenRod) protocol >> { 
  +viewModel : ViewModelType?
  +fields : [UITextField?]
  +messages : [UILabel?]
  +messageSetters : [ViewModelType.FieldType: MessageSetter]
  +taggedFields : [UITextField?: ViewModelType.FieldType]
  +values : [ViewModelType.FieldType: String]
  +filters : [ViewModelType.FieldType: (Character) -> Bool]
  +allowChangePredicates : [ViewModelType.FieldType: NSPredicate]
  +displayedMessages : [ViewModelType.FieldType: String]
  +isClosing : Bool
  +isEditing : Bool
  +isSubmitEnabled : Bool
  +formLayoutUpdated()
  +clearMessages()
  +submit()
  +updateFocus(textField:for:)
  +nextField(after:) 
}
class "FormViewModel" as FormViewModel0 << (X, Orchid) extension >> { 
  +isValid(values:)
  +getValue(field:values:from:)
  +getText(value:from:)
  +textFieldShouldReturn(field:messageSetters:values:) 
}
class "Form" as Form1 << (X, Orchid) extension >> { 
  +messageSetters : [ViewModelType.FieldType: MessageSetter]
  +taggedFields : [UITextField?: ViewModelType.FieldType]
  +values : [ViewModelType.FieldType: String]
  +filters : [ViewModelType.FieldType: (Character) -> Bool]
  +allowChangePredicates : [ViewModelType.FieldType: NSPredicate]
  +displayedMessages : [ViewModelType.FieldType: String]
  +clearMessages()
  +submit()
  +updateFocus(textField:for:)
  +nextField(after:)
  +formLayoutUpdated() 
}
FormTextFieldDelegateImpl - -|> NSObject : inherits
FormTextFieldDelegateImpl - -|> UITextFieldDelegate : inherits
Form ..|> AnyObject : inherits
FormViewModel <.. FormViewModel0 : ext
Form <.. Form1 : ext
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>